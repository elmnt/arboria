function initMap(){var e={lat:39.105971,lng:-94.632058},t=new google.maps.Map(document.getElementById("map"),{zoom:4,center:e}),a=new XMLHttpRequest;a.onreadystatechange=function(){function e(e,t,a,s){e.addListener("click",function(){a.setContent(s),a.open(t,this)})}if(4===a.readyState&&200==a.status){var s=JSON.parse(a.responseText),n="";for(var l in s)for(var r in s[l]){if(n+='<ul id="'+r.toLowerCase().replace(/ /g,"")+'_list">',n+='<li><h3 class="hprm">'+r+"</h3>",s[l][r].length>0){n+="<ul>";for(var i=0;i<s[l][r].length;i++){n+='<li class="dealer__name"><h5>'+s[l][r][i].name+"</h5>",n+="<ul>",n+="<li>"+s[l][r][i].address.street1+"</li>",""!=s[l][r][i].address.street2&&(n+="<li>"+s[l][r][i].address.street2+"</li>"),n+="<li>"+s[l][r][i].address.city+", "+s[l][r][i].address.state+"</li>",n+="<li>"+s[l][r][i].address.zip+"</li>",""!=s[l][r][i].url&&(n+='<li><a href="'+s[l][r][i].url+'">Website</a></li>'),""!=s[l][r][i].map&&(n+='<li><a href="'+s[l][r][i].map+'">Google Map Link</a></li>'),n+="</ul>",n+="</li>",""!=s[l][r][i].lat&&""!=s[l][r][i].lng&&(latLng=new google.maps.LatLng(s[l][r][i].lat,s[l][r][i].lng));var o=s[l][r][i].name;o+="<br>",o+=s[l][r][i].address.street1,o+="<br>",""!=s[l][r][i].address.street2&&(o+=s[l][r][i].address.street2,o+="<br>"),o+=s[l][r][i].address.city,o+=", ",o+=s[l][r][i].address.state,o+="<br>",o+='<a href="'+s[l][r][i].map+'">Google Map Link</a>';var d=new google.maps.InfoWindow({content:o}),c=new google.maps.Marker({position:latLng,map:t,title:s[l][r][i].name});e(c,t,d,d.content)}n+="</ul>"}else n+="<p>We currently have no <strong>Arboria</strong> dealers in "+r+".</p>";n+="</li>",n+="</ul>"}document.getElementById("dealerList").innerHTML=n}},a.open("GET","/assets/js/dealers.json"),a.send()}$("#wtb_states").on("change",function(){var e=$(this).val().toLowerCase().replace(/ /g,"");if("showallstates"==e)$("[id$=_list]").each(function(){$(this).show()});else switch(e){case e:$("[id$=_list]").each(function(){$(this).hide()});var t="#"+e+"_list";$(t).show()}});